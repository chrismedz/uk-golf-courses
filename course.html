<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Course Details – UK Golf Directory</title>
  <meta name="description" content="Detailed information about this UK golf course: address, contact, fees, par, length, slope, map and photos.">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="index.html">UK Golf Directory</a>
      <nav class="top-nav"><a href="index.html">All Courses</a></nav>
    </div>
  </header>

  <main>
    <section class="course-header container">
      <h1 id="c-name">Course Name</h1>
      <img id="c-hero" src="" alt="Course photo">
    </section>

    <section class="course-details">
      <div class="container">
        <div class="info-grid">
          <div class="box">
            <h3>Essentials</h3>
            <p><strong>County:</strong> <span id="c-county"></span></p>
            <p><strong>Type:</strong> <span id="c-type"></span></p>
            <p><strong>Length:</strong> <span id="c-length"></span> yds</p>
            <p><strong>Par:</strong> <span id="c-par"></span></p>
            <p><strong>Slope:</strong> <span id="c-slope"></span></p>
            <p><strong>Difficulty:</strong> <span id="c-difficulty"></span>/5</p>
          </div>
          <div class="box">
            <h3>Visitor Information</h3>
            <p><strong>Green Fee:</strong> <span id="c-fees"></span></p>
            <p><strong>Address:</strong> <span id="c-address"></span></p>
            <p><strong>Contact:</strong> <span id="c-phone"></span></p>
            <p><strong>Email:</strong> <a id="c-email" href="#"></a></p>
            <p><strong>Website:</strong> <a id="c-website" href="#" rel="noopener" target="_blank">Visit site</a></p>
          </div>
        </div>

        <h3 style="margin-top:1.5rem">About</h3>
        <p id="c-desc"></p>

        <h3 style="margin-top:1.5rem">Map</h3>
        <div id="c-map" class="map" style="height:420px"></div>

        <h3 style="margin-top:1.5rem">Photos</h3>
        <div class="gallery" id="c-gallery"></div>

        <div id="c-video-wrap" style="margin-top:1.5rem; display:none">
          <h3>Flyover Video</h3>
          <iframe id="c-video" width="100%" height="420" frameborder="0" allowfullscreen></iframe>
        </div>

        <div class="ad ad-leaderboard" style="margin-top:1.5rem">
          <span>Ad space – 728×90</span>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <div>© 2025 UK Golf Directory</div>
      <nav class="footer-nav"><a href="index.html">Home</a></nav>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="courses.js"></script>
  <script>
    // Get course by id from URL
    const params = new URLSearchParams(location.search);
    const id = Number(params.get("id"));
    const c = courses.find(x => x.id === id) || courses[0];

    // Populate
    document.getElementById("c-name").textContent = c.name;
    document.getElementById("c-hero").src = c.image;
    document.getElementById("c-county").textContent = c.county + (c.country ? ", " + c.country : "");
    document.getElementById("c-type").textContent = c.type;
    document.getElementById("c-length").textContent = (c.length || 0).toLocaleString();
    document.getElementById("c-par").textContent = c.par || "-";
    document.getElementById("c-slope").textContent = c.slope || "-";
    document.getElementById("c-difficulty").textContent = c.difficulty || "-";
    document.getElementById("c-fees").textContent = c.fees || "Enquire";
    document.getElementById("c-address").textContent = c.address || "";
    document.getElementById("c-phone").textContent = c.phone || "";
    const e = document.getElementById("c-email"); e.textContent = c.email || ""; e.href = c.email ? `mailto:${c.email}` : "#";
    const w = document.getElementById("c-website"); w.href = c.website || "#";
    document.getElementById("c-desc").textContent = c.description || "";

    // Map
    const map = L.map("c-map", { scrollWheelZoom:false }).setView([c.lat || 54.5, c.lng || -3], c.lat? 14 : 6);
    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", { attribution: "&copy; OpenStreetMap contributors" }).addTo(map);
    if (c.lat && c.lng) L.marker([c.lat, c.lng]).addTo(map).bindPopup(c.name);

    // Gallery
    const gal = document.getElementById("c-gallery");
    (c.images && c.images.length ? c.images : [c.image]).forEach(src => {
      const img = document.createElement("img");
      img.src = src; img.alt = c.name; gal.appendChild(img);
    });

    // Video
    if (c.youtube) {
      document.getElementById("c-video-wrap").style.display = "block";
      document.getElementById("c-video").src = `https://www.youtube.com/embed/${c.youtube}`;
    }
  </script>
</body>
</html>
